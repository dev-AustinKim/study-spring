<!doctype html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        input[type=text] {
            display: block;
        }
    </style>
</head>
<body>
<!--뒤에있는 쿼리스트링을 @{}를 쓰면 보낼 수 있다. @{}는 타임리프 링크이다. 링크를 쓸 때는 @{}를 항상 해줘야 한다.-->
<form th:action="@{/ex/register}" method="post" th:object="${productVO}" name="form">
    <input type="text" th:field="*{productName}" placeholder="상품명"> <!--이렇게 하면 productVO.productName이랑 같은 방식이 된다.-->
    <input type="text" th:field="*{productPrice}" placeholder="상품가격"> <!--위에 Object객체(ProductVO)에 필드에 참조하기 위해서 *을 사용-->
    <input type="text" th:field="*{productStock}" placeholder="상품재고"> <!--th필드는 value까지 채워줘서 만약 productVO의 필드들이 클래스 타입(Integer)이 아닌 기본 자료형(int)을 쓰면 기본값이 input태그에 들어간다.-->
    <input type="text" th:field="*{productBrand}" placeholder="브랜드">
    <button type="button" id="register">등록</button>
    <button type="button" id="update">수정</button>
</form>
</body>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    $("button").on("click", function(){
        $(document.form).attr("action", $(this).attr("id") == 'register' ? "/ex/register" : "/ex/update");
        $(document.form).submit();
    });
</script>
</html>